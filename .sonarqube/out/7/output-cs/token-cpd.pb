Ÿ
CD:\repositoriosGit\Chat\Chat\xChatWebApi\App_Start\SwaggerConfig.cs
[ 
assembly 	
:	 
%
PreApplicationStartMethod $
($ %
typeof% +
(+ ,
SwaggerConfig, 9
)9 :
,: ;
$str< F
)F G
]G H
	namespace

 	
xChatWebApi


 
{ 
public 

class 
SwaggerConfig 
{ 
public 
static 
void 
Register #
(# $
)$ %
{ 	
var 
thisAssembly 
= 
typeof %
(% &
SwaggerConfig& 3
)3 4
.4 5
Assembly5 =
;= >
GlobalConfiguration 
.  
Configuration  -
. 
EnableSwagger 
( 
c 
=> 
{ 
c 
. 
SingleApiVersion "
(" #
$str# '
,' (
$str) ?
)? @
;@ A
c 
. !
IgnoreObsoleteActions '
(' (
)( )
;) *
c 
. 
IncludeXmlComments $
($ %
$@"% (
{( )
	AppDomain) 2
.2 3
CurrentDomain3 @
.@ A
BaseDirectoryA N
}N O 
\bin\xChatWebApi.xmlO c
"c d
)d e
;e f
c 
. $
IgnoreObsoleteProperties *
(* +
)+ ,
;, -
c!! 
.!! %
ResolveConflictingActions!! +
(!!+ ,
apiDescriptions!!, ;
=>!!< >
apiDescriptions!!? N
.!!N O
First!!O T
(!!T U
)!!U V
)!!V W
;!!W X
}"" 
)"" 
.## 
EnableSwaggerUi## 
(## 
c## 
=>## !
{$$ 
c%% 
.%% 
DocumentTitle%% 
(%%  
$str%%  =
)%%= >
;%%> ?
c&& 
.&& 
DocExpansion&& 
(&& 
DocExpansion&& +
.&&+ ,
List&&, 0
)&&0 1
;&&1 2
}'' 
)'' 
;'' 
}
óó 	
}
òò 
}ôô Ä
BD:\repositoriosGit\Chat\Chat\xChatWebApi\App_Start\WebApiConfig.cs
	namespace 	
xChatWebApi
 
{ 
public 

static 
class 
WebApiConfig $
{		 
public 
static 
void 
Register #
(# $
HttpConfiguration$ 5
config6 <
)< =
{ 	
config 
. "
MapHttpAttributeRoutes )
() *
)* +
;+ ,
config 
. 
Routes 
. 
MapHttpRoute &
(& '
name 
: 
$str "
," #
routeTemplate 
: 
$str 6
,6 7
defaults 
: 
new 
{ 
id  "
=# $
RouteParameter% 3
.3 4
Optional4 <
}= >
) 
; 
} 	
} 
} ü¥
ND:\repositoriosGit\Chat\Chat\xChatWebApi\Controllers\ConversationController.cs
	namespace 	
xChatWebApi
 
. 
Controllers !
{ 
public 

class "
ConversationController '
:( )
ApiController* 7
{ 
private !
IServiceChatManagerBL %!
_serviceChatManagerBL& ;
;; <
public "
ConversationController %
(% &!
IServiceChatManagerBL& ; 
serviceChatManagerBL< P
)P Q
{ 	!
_serviceChatManagerBL !
=" # 
serviceChatManagerBL$ 8
;8 9
} 	
[ 	
HttpPost	 
] 
[   	

ActionName  	 
(   
$str   :
)  : ;
]  ; <
[!! 	
Route!!	 
(!! 
$str!! G
)!!G H
]!!H I
public"" 
ObjectResultList"" 
<""  
UserConnect""  +
>""+ ,0
$GetListUserConnectByAccountManagerId""- Q
(""Q R
ObjectRequest""R _
<""_ `
int""` c
>""c d
objectRequest""e r
)""r s
{## 	
ObjectResultList$$ 
<$$ 
UserConnect$$ (
>$$( )
result$$* 0
=$$1 2
new$$3 6
ObjectResultList$$7 G
<$$G H
UserConnect$$H S
>$$S T
($$T U
)$$U V
;$$V W
try&& 
{'' 
result(( 
=(( !
_serviceChatManagerBL(( .
.((. /0
$GetListUserConnectByAccountManagerId((/ S
(((S T
objectRequest((T a
)((a b
;((b c
})) 
catch** 
(** 
	Exception** 
ex** 
)**  
{++ 
result,, 
.,, 
Id,, 
=,, 
$num,, 
;,, 
result-- 
.-- 
Message-- 
=--  
ex--! #
.--# $
Message--$ +
;--+ ,
}.. 
return00 
result00 
;00 
}11 	
[99 	
HttpPost99	 
]99 
[:: 	

ActionName::	 
(:: 
$str:: 1
)::1 2
]::2 3
[;; 	
Route;;	 
(;; 
$str;; >
);;> ?
];;? @
public<< 
ObjectResultList<< 
<<<  &
ConversationResponseEntity<<  :
><<: ;'
GetListConversationByChatId<<< W
(<<W X
ObjectRequest<<X e
<<<e f
int<<f i
><<i j
objectRequest<<k x
)<<x y
{== 	
ObjectResultList>> 
<>> &
ConversationResponseEntity>> 7
>>>7 8
list>>9 =
=>>> ?
new>>@ C
ObjectResultList>>D T
<>>T U&
ConversationResponseEntity>>U o
>>>o p
(>>p q
)>>q r
;>>r s
try@@ 
{AA 
listBB 
=BB !
_serviceChatManagerBLBB ,
.BB, -'
GetListConversationByChatIdBB- H
(BBH I
objectRequestBBI V
)BBV W
;BBW X
}CC 
catchDD 
(DD 
	ExceptionDD 
exDD 
)DD  
{EE 
listFF 
.FF 
IdFF 
=FF 
$numFF 
;FF 
listGG 
.GG 
MessageGG 
=GG 
exGG !
.GG! "
MessageGG" )
;GG) *
}HH 
returnJJ 
listJJ 
;JJ 
}KK 	
[RR 	
HttpPostRR	 
]RR 
[SS 	

ActionNameSS	 
(SS 
$strSS 1
)SS1 2
]SS2 3
[TT 	
RouteTT	 
(TT 
$strTT >
)TT> ?
]TT? @
publicUU 
ObjectResultListUU 
<UU  &
ConversationResponseEntityUU  :
>UU: ;'
GetListConversationByReportUU< W
(UUW X
ObjectRequestUUX e
<UUe f
stringUUf l
>UUl m
objectRequestUUn {
)UU{ |
{VV 	
ObjectResultListWW 
<WW &
ConversationResponseEntityWW 7
>WW7 8
listWW9 =
=WW> ?
newWW@ C
ObjectResultListWWD T
<WWT U&
ConversationResponseEntityWWU o
>WWo p
(WWp q
)WWq r
;WWr s
tryYY 
{ZZ 
list[[ 
=[[ !
_serviceChatManagerBL[[ ,
.[[, -'
GetListConversationByReport[[- H
([[H I
objectRequest[[I V
)[[V W
;[[W X
}\\ 
catch]] 
(]] 
	Exception]] 
ex]] 
)]]  
{^^ 
list__ 
.__ 
Id__ 
=__ 
$num__ 
;__ 
list`` 
.`` 
Message`` 
=`` 
ex`` !
.``! "
Message``" )
;``) *
}aa 
returncc 
listcc 
;cc 
}dd 	
[
ãã 	
HttpPost
ãã	 
]
ãã 
[
åå 	

ActionName
åå	 
(
åå 
$str
åå ?
)
åå? @
]
åå@ A
[
çç 	
Route
çç	 
(
çç 
$str
çç L
)
ççL M
]
ççM N
public
éé 
ObjectResultList
éé 
<
éé  #
AccountManagerConnect
éé  5
>
éé5 67
)GetListAccountManagerConnectByModuleAppId
éé7 `
(
éé` a
ObjectRequest
ééa n
<
één o
string
ééo u
>
ééu v
objectRequestééw Ñ
)ééÑ Ö
{
èè 	
ObjectResultList
êê 
<
êê #
AccountManagerConnect
êê 2
>
êê2 3
result
êê4 :
=
êê; <
new
êê= @
ObjectResultList
êêA Q
<
êêQ R#
AccountManagerConnect
êêR g
>
êêg h
(
êêh i
)
êêi j
;
êêj k
try
íí 
{
ìì 
result
îî 
=
îî #
_serviceChatManagerBL
îî .
.
îî. /7
)GetListAccountManagerConnectByModuleAppId
îî/ X
(
îîX Y
objectRequest
îîY f
)
îîf g
;
îîg h
}
ïï 
catch
ññ 
(
ññ 
	Exception
ññ 
ex
ññ 
)
ññ  
{
óó 
result
òò 
.
òò 
Id
òò 
=
òò 
$num
òò 
;
òò 
result
ôô 
.
ôô 
Message
ôô 
=
ôô  
ex
ôô! #
.
ôô# $
Message
ôô$ +
;
ôô+ ,
}
öö 
return
úú 
result
úú 
;
úú 
}
ùù 	
[
§§ 	
HttpPost
§§	 
]
§§ 
[
•• 	

ActionName
••	 
(
•• 
$str
•• +
)
••+ ,
]
••, -
[
¶¶ 	
Route
¶¶	 
(
¶¶ 
$str
¶¶ 8
)
¶¶8 9
]
¶¶9 :
public
ßß 
ObjectResultList
ßß 
<
ßß  #
AccountManagerConnect
ßß  5
>
ßß5 6#
GetAccountManagerById
ßß7 L
(
ßßL M
ObjectRequest
ßßM Z
<
ßßZ [
string
ßß[ a
>
ßßa b
objectRequest
ßßc p
)
ßßp q
{
®® 	
ObjectResultList
©© 
<
©© #
AccountManagerConnect
©© 2
>
©©2 3
result
©©4 :
=
©©; <
new
©©= @
ObjectResultList
©©A Q
<
©©Q R#
AccountManagerConnect
©©R g
>
©©g h
(
©©h i
)
©©i j
;
©©j k
try
´´ 
{
¨¨ 
result
≠≠ 
=
≠≠ #
_serviceChatManagerBL
≠≠ .
.
≠≠. /#
GetAccountManagerById
≠≠/ D
(
≠≠D E
objectRequest
≠≠E R
)
≠≠R S
;
≠≠S T
}
ÆÆ 
catch
ØØ 
(
ØØ 
	Exception
ØØ 
ex
ØØ 
)
ØØ  
{
∞∞ 
result
±± 
.
±± 
Id
±± 
=
±± 
$num
±± 
;
±± 
result
≤≤ 
.
≤≤ 
Message
≤≤ 
=
≤≤  
ex
≤≤! #
.
≤≤# $
Message
≤≤$ +
;
≤≤+ ,
}
≥≥ 
return
µµ 
result
µµ 
;
µµ 
}
∂∂ 	
[
ΩΩ 	
HttpPost
ΩΩ	 
]
ΩΩ 
[
ææ 	

ActionName
ææ	 
(
ææ 
$str
ææ .
)
ææ. /
]
ææ/ 0
[
øø 	
Route
øø	 
(
øø 
$str
øø ;
)
øø; <
]
øø< =
public
¿¿ 
ObjectResult
¿¿ 
<
¿¿ 
bool
¿¿  
>
¿¿  !&
AccountManagerDisconnect
¿¿" :
(
¿¿: ;
ObjectRequest
¿¿; H
<
¿¿H I
int
¿¿I L
>
¿¿L M
objectRequest
¿¿N [
)
¿¿[ \
{
¡¡ 	
ObjectResult
¬¬ 
<
¬¬ 
bool
¬¬ 
>
¬¬ 
result
¬¬ %
=
¬¬& '
new
¬¬( +
ObjectResult
¬¬, 8
<
¬¬8 9
bool
¬¬9 =
>
¬¬= >
(
¬¬> ?
)
¬¬? @
;
¬¬@ A
try
ƒƒ 
{
≈≈ 
result
∆∆ 
=
∆∆ #
_serviceChatManagerBL
∆∆ .
.
∆∆. /&
AccountManagerDisconnect
∆∆/ G
(
∆∆G H
objectRequest
∆∆H U
)
∆∆U V
;
∆∆V W
}
«« 
catch
»» 
(
»» 
	Exception
»» 
ex
»» 
)
»»  
{
…… 
result
   
.
   
Id
   
=
   
$num
   
;
   
result
ÀÀ 
.
ÀÀ 
Message
ÀÀ 
=
ÀÀ  
ex
ÀÀ! #
.
ÀÀ# $
Message
ÀÀ$ +
;
ÀÀ+ ,
}
ÃÃ 
return
ŒŒ 
result
ŒŒ 
;
ŒŒ 
}
œœ 	
[
◊◊ 	
HttpPost
◊◊	 
]
◊◊ 
[
ÿÿ 	

ActionName
ÿÿ	 
(
ÿÿ 
$str
ÿÿ 
)
ÿÿ  
]
ÿÿ  !
[
ŸŸ 	
Route
ŸŸ	 
(
ŸŸ 
$str
ŸŸ ,
)
ŸŸ, -
]
ŸŸ- .
public
⁄⁄ 
ObjectResult
⁄⁄ 
<
⁄⁄ 
ListReportChat
⁄⁄ *
>
⁄⁄* +
	GetReport
⁄⁄, 5
(
⁄⁄5 6
ObjectRequest
⁄⁄6 C
<
⁄⁄C D
ReportFilter
⁄⁄D P
>
⁄⁄P Q
objectRequest
⁄⁄R _
)
⁄⁄_ `
{
€€ 	
ListReportChat
‹‹ 

listResult
‹‹ %
=
‹‹& '
new
‹‹( +
ListReportChat
‹‹, :
(
‹‹: ;
)
‹‹; <
;
‹‹< =
ObjectResult
›› 
<
›› 
ListReportChat
›› '
>
››' (
result
››) /
=
››0 1
new
››2 5
ObjectResult
››6 B
<
››B C
ListReportChat
››C Q
>
››Q R
(
››R S
)
››S T
;
››T U
try
ﬂﬂ 
{
‡‡ 

listResult
·· 
.
·· 
Elements
·· #
=
··$ %#
_serviceChatManagerBL
··& ;
.
··; <
	GetReport
··< E
(
··E F
objectRequest
··F S
)
··S T
.
··T U
Elements
··U ]
;
··] ^
result
„„ 
.
„„ 
Data
„„ 
=
„„ 

listResult
„„ (
;
„„( )
}
‰‰ 
catch
ÂÂ 
(
ÂÂ 
	Exception
ÂÂ 
ex
ÂÂ 
)
ÂÂ  
{
ÊÊ 
result
ÁÁ 
.
ÁÁ 
Id
ÁÁ 
=
ÁÁ 
$num
ÁÁ 
;
ÁÁ 
result
ËË 
.
ËË 
Message
ËË 
=
ËË  
ex
ËË! #
.
ËË# $
Message
ËË$ +
;
ËË+ ,
}
ÈÈ 
return
ÎÎ 
result
ÎÎ 
;
ÎÎ 
}
ÏÏ 	
[
ÛÛ 	
HttpGet
ÛÛ	 
]
ÛÛ 
[
ÙÙ 	

ActionName
ÙÙ	 
(
ÙÙ 
$str
ÙÙ 
)
ÙÙ 
]
ÙÙ  
[
ıı 	
Route
ıı	 
(
ıı 
$str
ıı +
)
ıı+ ,
]
ıı, -
public
ˆˆ 
ObjectResult
ˆˆ 
<
ˆˆ 
string
ˆˆ "
>
ˆˆ" #
DemoTest
ˆˆ$ ,
(
ˆˆ, -
)
ˆˆ- .
{
˜˜ 	
ObjectResult
¯¯ 
<
¯¯ 
string
¯¯ 
>
¯¯  
result
¯¯! '
=
¯¯( )
new
¯¯* -
ObjectResult
¯¯. :
<
¯¯: ;
string
¯¯; A
>
¯¯A B
(
¯¯B C
)
¯¯C D
;
¯¯D E
return
îî 
result
îî 
;
îî 
}
ïï 	
[
úú 	
HttpPost
úú	 
]
úú 
[
ùù 	

ActionName
ùù	 
(
ùù 
$str
ùù 1
)
ùù1 2
]
ùù2 3
[
ûû 	
Route
ûû	 
(
ûû 
$str
ûû >
)
ûû> ?
]
ûû? @
public
üü 
ObjectResultList
üü 
<
üü  (
ConversationResponseEntity
üü  :
>
üü: ;)
GetListConversationByFilter
üü< W
(
üüW X
ObjectRequest
üüX e
<
üüe f)
ConversationResponseEntityüüf Ä
>üüÄ Å
objectRequestüüÇ è
)üüè ê
{
†† 	
ObjectResultList
°° 
<
°° (
ConversationResponseEntity
°° 7
>
°°7 8
list
°°9 =
=
°°> ?
new
°°@ C
ObjectResultList
°°D T
<
°°T U(
ConversationResponseEntity
°°U o
>
°°o p
(
°°p q
)
°°q r
;
°°r s
try
££ 
{
§§ 
list
•• 
=
•• #
_serviceChatManagerBL
•• ,
.
••, -)
GetListConversationByFilter
••- H
(
••H I
objectRequest
••I V
)
••V W
;
••W X
}
¶¶ 
catch
ßß 
(
ßß 
	Exception
ßß 
ex
ßß 
)
ßß  
{
®® 
list
©© 
.
©© 
Id
©© 
=
©© 
$num
©© 
;
©© 
list
™™ 
.
™™ 
Message
™™ 
=
™™ 
ex
™™ !
.
™™! "
Message
™™" )
;
™™) *
}
´´ 
return
≠≠ 
list
≠≠ 
;
≠≠ 
}
ÆÆ 	
[
µµ 	
HttpPost
µµ	 
]
µµ 
[
∂∂ 	

ActionName
∂∂	 
(
∂∂ 
$str
∂∂ &
)
∂∂& '
]
∂∂' (
[
∑∑ 	
Route
∑∑	 
(
∑∑ 
$str
∑∑ 3
)
∑∑3 4
]
∑∑4 5
public
∏∏ 
ObjectResult
∏∏ 
<
∏∏ 
UserRoleType
∏∏ (
>
∏∏( )
UsersGetRoleType
∏∏* :
(
∏∏: ;
ObjectRequest
∏∏; H
<
∏∏H I
string
∏∏I O
>
∏∏O P
objectRequest
∏∏Q ^
)
∏∏^ _
{
ππ 	
ObjectResult
∫∫ 
<
∫∫ 
UserRoleType
∫∫ %
>
∫∫% &
result
∫∫' -
=
∫∫. /
new
∫∫0 3
ObjectResult
∫∫4 @
<
∫∫@ A
UserRoleType
∫∫A M
>
∫∫M N
(
∫∫N O
)
∫∫O P
;
∫∫P Q
try
ºº 
{
ΩΩ 
result
ææ 
=
ææ #
_serviceChatManagerBL
ææ .
.
ææ. /
UsersGetRoleType
ææ/ ?
(
ææ? @
objectRequest
ææ@ M
)
ææM N
;
ææN O
}
øø 
catch
¿¿ 
(
¿¿ 
	Exception
¿¿ 
ex
¿¿ 
)
¿¿  
{
¡¡ 
result
¬¬ 
.
¬¬ 
Id
¬¬ 
=
¬¬ 
-
¬¬ 
$num
¬¬ 
;
¬¬ 
result
√√ 
.
√√ 
Message
√√ 
=
√√  
ex
√√! #
.
√√# $
Message
√√$ +
;
√√+ ,
}
ƒƒ 
return
∆∆ 
result
∆∆ 
;
∆∆ 
}
«« 	
[
ŒŒ 	
HttpPost
ŒŒ	 
]
ŒŒ 
[
œœ 	

ActionName
œœ	 
(
œœ 
$str
œœ +
)
œœ+ ,
]
œœ, -
[
–– 	
Route
––	 
(
–– 
$str
–– 8
)
––8 9
]
––9 :
public
—— 
ObjectResultList
—— 
<
——  #
AccountManagerConnect
——  5
>
——5 6#
GetListAgentByManager
——7 L
(
——L M
ObjectRequest
——M Z
<
——Z [
string
——[ a
>
——a b
objectRequest
——c p
)
——p q
{
““ 	
ObjectResultList
”” 
<
”” #
AccountManagerConnect
”” 2
>
””2 3
result
””4 :
=
””; <
new
””= @
ObjectResultList
””A Q
<
””Q R#
AccountManagerConnect
””R g
>
””g h
(
””h i
)
””i j
;
””j k
try
’’ 
{
÷÷ 
result
◊◊ 
=
◊◊ #
_serviceChatManagerBL
◊◊ .
.
◊◊. /#
GetListAgentByManager
◊◊/ D
(
◊◊D E
objectRequest
◊◊E R
)
◊◊R S
;
◊◊S T
}
ÿÿ 
catch
ŸŸ 
(
ŸŸ 
	Exception
ŸŸ 
ex
ŸŸ 
)
ŸŸ  
{
⁄⁄ 
result
€€ 
.
€€ 
Id
€€ 
=
€€ 
$num
€€ 
;
€€ 
result
‹‹ 
.
‹‹ 
Message
‹‹ 
=
‹‹  
ex
‹‹! #
.
‹‹# $
Message
‹‹$ +
;
‹‹+ ,
}
›› 
return
ﬂﬂ 
result
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 	
[
ÁÁ 	
HttpPost
ÁÁ	 
]
ÁÁ 
[
ËË 	

ActionName
ËË	 
(
ËË 
$str
ËË 3
)
ËË3 4
]
ËË4 5
[
ÈÈ 	
Route
ÈÈ	 
(
ÈÈ 
$str
ÈÈ @
)
ÈÈ@ A
]
ÈÈA B
public
ÍÍ 
ObjectResultList
ÍÍ 
<
ÍÍ  
UserConnect
ÍÍ  +
>
ÍÍ+ ,+
GetListUserByAccountManagerId
ÍÍ- J
(
ÍÍJ K
ObjectRequest
ÍÍK X
<
ÍÍX Y
int
ÍÍY \
>
ÍÍ\ ]
objectRequest
ÍÍ^ k
)
ÍÍk l
{
ÎÎ 	
ObjectResultList
ÏÏ 
<
ÏÏ 
UserConnect
ÏÏ (
>
ÏÏ( )
result
ÏÏ* 0
=
ÏÏ1 2
new
ÏÏ3 6
ObjectResultList
ÏÏ7 G
<
ÏÏG H
UserConnect
ÏÏH S
>
ÏÏS T
(
ÏÏT U
)
ÏÏU V
;
ÏÏV W
try
ÓÓ 
{
ÔÔ 
result
 
=
 #
_serviceChatManagerBL
 .
.
. /+
GetListUserByAccountManagerId
/ L
(
L M
objectRequest
M Z
)
Z [
;
[ \
}
ÒÒ 
catch
ÚÚ 
(
ÚÚ 
	Exception
ÚÚ 
ex
ÚÚ 
)
ÚÚ  
{
ÛÛ 
result
ÙÙ 
.
ÙÙ 
Id
ÙÙ 
=
ÙÙ 
$num
ÙÙ 
;
ÙÙ 
result
ıı 
.
ıı 
Message
ıı 
=
ıı  
ex
ıı! #
.
ıı# $
Message
ıı$ +
;
ıı+ ,
}
ˆˆ 
return
¯¯ 
result
¯¯ 
;
¯¯ 
}
˘˘ 	
[
ÄÄ 	
HttpPost
ÄÄ	 
]
ÄÄ 
[
ÅÅ 	

ActionName
ÅÅ	 
(
ÅÅ 
$str
ÅÅ 9
)
ÅÅ9 :
]
ÅÅ: ;
[
ÇÇ 	
Route
ÇÇ	 
(
ÇÇ 
$str
ÇÇ F
)
ÇÇF G
]
ÇÇG H
public
ÉÉ 
ObjectResultList
ÉÉ 
<
ÉÉ  (
ConversationResponseEntity
ÉÉ  :
>
ÉÉ: ;1
#GetListConversationByChatAndAgentId
ÉÉ< _
(
ÉÉ_ `
ObjectRequest
ÉÉ` m
<
ÉÉm n
string
ÉÉn t
>
ÉÉt u
objectRequestÉÉv É
)ÉÉÉ Ñ
{
ÑÑ 	
ObjectResultList
ÖÖ 
<
ÖÖ (
ConversationResponseEntity
ÖÖ 7
>
ÖÖ7 8
list
ÖÖ9 =
=
ÖÖ> ?
new
ÖÖ@ C
ObjectResultList
ÖÖD T
<
ÖÖT U(
ConversationResponseEntity
ÖÖU o
>
ÖÖo p
(
ÖÖp q
)
ÖÖq r
;
ÖÖr s
try
áá 
{
àà 
list
ââ 
=
ââ #
_serviceChatManagerBL
ââ ,
.
ââ, -1
#GetListConversationByChatAndAgentId
ââ- P
(
ââP Q
objectRequest
ââQ ^
)
ââ^ _
;
ââ_ `
}
ää 
catch
ãã 
(
ãã 
	Exception
ãã 
ex
ãã 
)
ãã  
{
åå 
list
çç 
.
çç 
Id
çç 
=
çç 
$num
çç 
;
çç 
list
éé 
.
éé 
Message
éé 
=
éé 
ex
éé !
.
éé! "
Message
éé" )
;
éé) *
}
èè 
return
ëë 
list
ëë 
;
ëë 
}
íí 	
[
ôô 	
HttpPost
ôô	 
]
ôô 
[
öö 	

ActionName
öö	 
(
öö 
$str
öö ;
)
öö; <
]
öö< =
[
õõ 	
Route
õõ	 
(
õõ 
$str
õõ H
)
õõH I
]
õõI J
public
úú 
ObjectResultList
úú 
<
úú  (
ConversationResponseEntity
úú  :
>
úú: ;3
%GetListConversationByChatAndManagerId
úú< a
(
úúa b
ObjectRequest
úúb o
<
úúo p
string
úúp v
>
úúv w
objectRequestúúx Ö
)úúÖ Ü
{
ùù 	
ObjectResultList
ûû 
<
ûû (
ConversationResponseEntity
ûû 7
>
ûû7 8
list
ûû9 =
=
ûû> ?
new
ûû@ C
ObjectResultList
ûûD T
<
ûûT U(
ConversationResponseEntity
ûûU o
>
ûûo p
(
ûûp q
)
ûûq r
;
ûûr s
try
†† 
{
°° 
list
¢¢ 
=
¢¢ #
_serviceChatManagerBL
¢¢ ,
.
¢¢, -3
%GetListConversationByChatAndManagerId
¢¢- R
(
¢¢R S
objectRequest
¢¢S `
)
¢¢` a
;
¢¢a b
}
££ 
catch
§§ 
(
§§ 
	Exception
§§ 
ex
§§ 
)
§§  
{
•• 
list
¶¶ 
.
¶¶ 
Id
¶¶ 
=
¶¶ 
$num
¶¶ 
;
¶¶ 
list
ßß 
.
ßß 
Message
ßß 
=
ßß 
ex
ßß !
.
ßß! "
Message
ßß" )
;
ßß) *
}
®® 
return
™™ 
list
™™ 
;
™™ 
}
´´ 	
}
≠≠ 
}ÆÆ ê2
ED:\repositoriosGit\Chat\Chat\xChatWebApi\Controllers\FAQController.cs
	namespace 	
xChatWebApi
 
. 
Controllers !
{ 
public 

class 
FAQController 
:  
ApiController! .
{ 
private 
IServiceFaqBL 
_serviceFaqBL +
;+ ,
public 
FAQController 
( 
IServiceFaqBL *
serviceFaqBL+ 7
)7 8
{ 	
_serviceFaqBL 
= 
serviceFaqBL (
;( )
} 	
public 
ObjectResult 
< 
bool  
>  !
Delete" (
(( )
	FaqEntity) 2
	faqEntity3 <
)< =
{ 	
ObjectResult 
< 
bool 
> 
result %
=& '
new( +
ObjectResult, 8
<8 9
bool9 =
>= >
(> ?
)? @
;@ A
try   
{!! 
_serviceFaqBL"" 
."" 
Delete"" $
(""$ %
	faqEntity""% .
)"". /
;""/ 0
result## 
.## 
Data## 
=## 
true## "
;##" #
}$$ 
catch%% 
(%% 
	Exception%% 
ex%% 
)%% 
{&& 
result'' 
.'' 
Id'' 
='' 
$num'' 
;'' 
result(( 
.(( 
Message(( 
=((  
ex((! #
.((# $
Message(($ +
;((+ ,
})) 
return++ 
result++ 
;++ 
},, 	
public33 
ObjectResult33 
<33 
	FaqEntity33 %
>33% &
GetById33' .
(33. /
	FaqEntity33/ 8
	faqEntity339 B
)33B C
{44 	
ObjectResult55 
<55 
	FaqEntity55 "
>55" #
result55$ *
=55+ ,
new55- 0
ObjectResult551 =
<55= >
	FaqEntity55> G
>55G H
(55H I
)55I J
;55J K
try77 
{88 
result99 
.99 
Data99 
=99 
_serviceFaqBL99 +
.99+ ,
GetById99, 3
(993 4
	faqEntity994 =
)99= >
;99> ?
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
result== 
.== 
Id== 
=== 
$num== 
;== 
result>> 
.>> 
Message>> 
=>>  
ex>>! #
.>># $
Message>>$ +
;>>+ ,
}?? 
returnAA 
resultAA 
;AA 
}BB 	
publicII 
ObjectResultListII 
<II  
	FaqEntityII  )
>II) *
GetListByLanguajeIdII+ >
(II> ?
intII? B

languageIdIIC M
)IIM N
{JJ 	
ObjectResultListKK 
<KK 
	FaqEntityKK &
>KK& '
resultKK( .
=KK/ 0
newKK1 4
ObjectResultListKK5 E
<KKE F
	FaqEntityKKF O
>KKO P
(KKP Q
)KKQ R
;KKR S
tryMM 
{NN 
resultOO 
=OO 
_serviceFaqBLOO &
.OO& '
GetListByLanguajeIdOO' :
(OO: ;

languageIdOO; E
)OOE F
;OOF G
}PP 
catchQQ 
(QQ 
	ExceptionQQ 
exQQ 
)QQ  
{RR 
resultSS 
.SS 
IdSS 
=SS 
$numSS 
;SS 
resultTT 
.TT 
MessageTT 
=TT  
exTT! #
.TT# $
MessageTT$ +
;TT+ ,
}UU 
returnWW 
resultWW 
;WW 
}XX 	
public^^ 
ObjectResult^^ 
<^^ 
bool^^  
>^^  !
Insert^^" (
(^^( )
	FaqEntity^^) 2
	faqEntity^^3 <
)^^< =
{__ 	
ObjectResult`` 
<`` 
bool`` 
>`` 
result`` %
=``& '
new``( +
ObjectResult``, 8
<``8 9
bool``9 =
>``= >
(``> ?
)``? @
;``@ A
trybb 
{cc 
_serviceFaqBLdd 
.dd 
Insertdd $
(dd$ %
	faqEntitydd% .
)dd. /
;dd/ 0
resultee 
.ee 
Dataee 
=ee 
trueee "
;ee" #
}ff 
catchgg 
(gg 
	Exceptiongg 
exgg 
)gg  
{hh 
resultii 
.ii 
Idii 
=ii 
$numii 
;ii 
resultjj 
.jj 
Messagejj 
=jj  
exjj! #
.jj# $
Messagejj$ +
;jj+ ,
}kk 
returnmm 
resultmm 
;mm 
}nn 	
publictt 
ObjectResulttt 
<tt 
booltt  
>tt  !
Updatett" (
(tt( )
	FaqEntitytt) 2
	faqEntitytt3 <
)tt< =
{uu 	
ObjectResultvv 
<vv 
boolvv 
>vv 
resultvv %
=vv& '
newvv( +
ObjectResultvv, 8
<vv8 9
boolvv9 =
>vv= >
(vv> ?
)vv? @
;vv@ A
tryxx 
{yy 
_serviceFaqBLzz 
.zz 
Insertzz $
(zz$ %
	faqEntityzz% .
)zz. /
;zz/ 0
result{{ 
.{{ 
Data{{ 
={{ 
true{{ "
;{{" #
}|| 
catch}} 
(}} 
	Exception}} 
ex}} 
)}}  
{~~ 
result 
. 
Id 
= 
$num 
; 
result
ÄÄ 
.
ÄÄ 
Message
ÄÄ 
=
ÄÄ  
ex
ÄÄ! #
.
ÄÄ# $
Message
ÄÄ$ +
;
ÄÄ+ ,
}
ÅÅ 
return
ÉÉ 
result
ÉÉ 
;
ÉÉ 
}
ÑÑ 	
}
ÖÖ 
}ÜÜ —
UD:\repositoriosGit\Chat\Chat\xChatWebApi\Controllers\ManagerMasterEntityController.cs
	namespace 	
xChatWebApi
 
. 
Controllers !
{ 
public 

class )
ManagerMasterEntityController .
:/ 0
ApiController1 >
{ 
private "
IServiceMasterEntityBL &#
_IServiceMasterEntityBL' >
;> ?
public )
ManagerMasterEntityController ,
(, -"
IServiceMasterEntityBL- C!
serviceMasterEntityBLD Y
)Y Z
{ 	#
_IServiceMasterEntityBL #
=$ %!
serviceMasterEntityBL& ;
;; <
} 	
[ 	
HttpPost	 
] 
[ 	

ActionName	 
( 
$str )
)) *
]* +
[ 	
Route	 
( 
$str =
)= >
]> ?
public   
ObjectResultList   
<    
EntityMaster    ,
>  , -
GetListByEntityName  . A
(  A B
ObjectRequest  B O
<  O P
EntityMasterEnum  P `
>  ` a
objectRequest  b o
)  o p
{!! 	
ObjectResultList"" 
<"" 
EntityMaster"" )
>"") *
result""+ 1
=""2 3
new""4 7
ObjectResultList""8 H
<""H I
EntityMaster""I U
>""U V
(""V W
)""W X
;""X Y
try$$ 
{%% 
result&& 
=&& #
_IServiceMasterEntityBL&& 0
.&&0 1
GetList&&1 8
(&&8 9
objectRequest&&9 F
.&&F G
SenderObject&&G S
)&&S T
;&&T U
}'' 
catch(( 
((( 
	Exception(( 
ex(( 
)((  
{)) 
result** 
.** 
Id** 
=** 
$num** 
;** 
result++ 
.++ 
Message++ 
=++  
ex++! #
.++# $
Message++$ +
;+++ ,
},, 
return.. 
result.. 
;.. 
}// 	
[66 	
HttpPost66	 
]66 
[77 	

ActionName77	 
(77 
$str77 )
)77) *
]77* +
[88 	
Route88	 
(88 
$str88 =
)88= >
]88> ?
public99 
ObjectResultList99 
<99  
EntityMaster99  ,
>99, -
SearchMasterGetList99. A
(99A B
ObjectRequest99B O
<99O P
ParamSearchMaster99P a
>99a b
objectRequest99c p
)99p q
{:: 	
ObjectResultList;; 
<;; 
EntityMaster;; )
>;;) *
result;;+ 1
=;;2 3
new;;4 7
ObjectResultList;;8 H
<;;H I
EntityMaster;;I U
>;;U V
(;;V W
);;W X
;;;X Y
try== 
{>> 
result?? 
=?? #
_IServiceMasterEntityBL?? 0
.??0 1
SearchMasterGetList??1 D
(??D E
objectRequest??E R
.??R S
SenderObject??S _
)??_ `
;??` a
}@@ 
catchAA 
(AA 
	ExceptionAA 
exAA 
)AA  
{BB 
resultCC 
.CC 
IdCC 
=CC 
$numCC 
;CC 
resultDD 
.DD 
MessageDD 
=DD  
exDD! #
.DD# $
MessageDD$ +
;DD+ ,
}EE 
returnGG 
resultGG 
;GG 
}HH 	
}KK 
}LL ﬂw
LD:\repositoriosGit\Chat\Chat\xChatWebApi\Controllers\SkillAgentController.cs
	namespace 	
xChatWebApi
 
. 
Controllers !
{ 
public 

class  
SkillAgentController %
:& '
ApiController( 5
{ 
private  
IServiceSkillAgentBL $!
_IServiceSkillAgentBL% :
;: ;
public  
SkillAgentController #
(# $ 
IServiceSkillAgentBL$ 8 
iserviceskillagentbl9 M
)M N
{ 	!
_IServiceSkillAgentBL !
=" # 
iserviceskillagentbl$ 8
;8 9
} 	
[ 	
HttpPost	 
] 
[ 	

ActionName	 
( 
$str .
). /
]/ 0
[   	
Route  	 
(   
$str   9
)  9 :
]  : ;
public!! 
ObjectResult!! 
<!! 
bool!!  
>!!  !$
ChangeStateSkillLanguage!!" :
(!!: ;
ObjectRequest!!; H
<!!H I
SkillAgentLanguage!!I [
>!![ \
objectRequest!!] j
)!!j k
{"" 	
ObjectResult## 
<## 
bool## 
>## 
result## %
=##& '
new##( +
ObjectResult##, 8
<##8 9
bool##9 =
>##= >
(##> ?
)##? @
;##@ A
try%% 
{&& !
_IServiceSkillAgentBL'' %
.''% &$
ChangeStateSkillLanguage''& >
(''> ?
objectRequest''? L
)''L M
;''M N
result)) 
.)) 
Data)) 
=)) 
true)) "
;))" #
}** 
catch++ 
(++ 
	Exception++ 
ex++ 
)++  
{,, 
result-- 
.-- 
Id-- 
=-- 
$num-- 
;-- 
result.. 
... 
Message.. 
=..  
ex..! #
...# $
Message..$ +
;..+ ,
}// 
return11 
result11 
;11 
}22 	
[99 	
HttpPost99	 
]99 
[:: 	

ActionName::	 
(:: 
$str:: ,
)::, -
]::- .
[;; 	
Route;;	 
(;; 
$str;; 7
);;7 8
];;8 9
public<< 
ObjectResult<< 
<<< 
bool<<  
><<  !"
ChangeStateSkillModule<<" 8
(<<8 9
ObjectRequest<<9 F
<<<F G
SkillAgentModule<<G W
><<W X
objectRequest<<Y f
)<<f g
{== 	
ObjectResult>> 
<>> 
bool>> 
>>> 
result>> %
=>>& '
new>>( +
ObjectResult>>, 8
<>>8 9
bool>>9 =
>>>= >
(>>> ?
)>>? @
;>>@ A
try@@ 
{AA !
_IServiceSkillAgentBLBB %
.BB% &"
ChangeStateSkillModuleBB& <
(BB< =
objectRequestBB= J
)BBJ K
;BBK L
resultDD 
.DD 
DataDD 
=DD 
trueDD "
;DD" #
}EE 
catchFF 
(FF 
	ExceptionFF 
exFF 
)FF  
{GG 
resultHH 
.HH 
IdHH 
=HH 
$numHH 
;HH 
resultII 
.II 
MessageII 
=II  
exII! #
.II# $
MessageII$ +
;II+ ,
}JJ 
returnLL 
resultLL 
;LL 
}MM 	
[UU 	
HttpPostUU	 
]UU 
[VV 	

ActionNameVV	 
(VV 
$strVV )
)VV) *
]VV* +
[WW 	
RouteWW	 
(WW 
$strWW 4
)WW4 5
]WW5 6
publicXX 
ObjectResultXX 
<XX 
boolXX  
>XX  !
CreateSkillLanguageXX" 5
(XX5 6
ObjectRequestXX6 C
<XXC D
SkillAgentLanguageXXD V
>XXV W
objectRequestXXX e
)XXe f
{YY 	
ObjectResultZZ 
<ZZ 
boolZZ 
>ZZ 
resultZZ %
=ZZ& '
newZZ( +
ObjectResultZZ, 8
<ZZ8 9
boolZZ9 =
>ZZ= >
(ZZ> ?
)ZZ? @
;ZZ@ A
try\\ 
{]] !
_IServiceSkillAgentBL^^ %
.^^% &
CreateSkillLanguage^^& 9
(^^9 :
objectRequest^^: G
)^^G H
;^^H I
result`` 
.`` 
Data`` 
=`` 
true`` "
;``" #
}aa 
catchbb 
(bb 
	Exceptionbb 
exbb 
)bb  
{cc 
resultdd 
.dd 
Iddd 
=dd 
$numdd 
;dd 
resultee 
.ee 
Messageee 
=ee  
exee! #
.ee# $
Messageee$ +
;ee+ ,
}ff 
returnhh 
resulthh 
;hh 
}ii 	
[qq 	
HttpPostqq	 
]qq 
[rr 	

ActionNamerr	 
(rr 
$strrr '
)rr' (
]rr( )
[ss 	
Routess	 
(ss 
$strss 2
)ss2 3
]ss3 4
publictt 
ObjectResulttt 
<tt 
booltt  
>tt  !
CreateSkillModulett" 3
(tt3 4
ObjectRequesttt4 A
<ttA B
SkillAgentModulettB R
>ttR S
objectRequestttT a
)tta b
{uu 	
ObjectResultvv 
<vv 
boolvv 
>vv 
resultvv %
=vv& '
newvv( +
ObjectResultvv, 8
<vv8 9
boolvv9 =
>vv= >
(vv> ?
)vv? @
;vv@ A
tryxx 
{yy !
_IServiceSkillAgentBLzz %
.zz% &
CreateSkillModulezz& 7
(zz7 8
objectRequestzz8 E
)zzE F
;zzF G
result|| 
.|| 
Data|| 
=|| 
true|| "
;||" #
}}} 
catch~~ 
(~~ 
	Exception~~ 
ex~~ 
)~~  
{ 
result
ÄÄ 
.
ÄÄ 
Id
ÄÄ 
=
ÄÄ 
$num
ÄÄ 
;
ÄÄ 
result
ÅÅ 
.
ÅÅ 
Message
ÅÅ 
=
ÅÅ  
ex
ÅÅ! #
.
ÅÅ# $
Message
ÅÅ$ +
;
ÅÅ+ ,
}
ÇÇ 
return
ÑÑ 
result
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
[
åå 	
HttpPost
åå	 
]
åå 
[
çç 	

ActionName
çç	 
(
çç 
$str
çç )
)
çç) *
]
çç* +
[
éé 	
Route
éé	 
(
éé 
$str
éé 4
)
éé4 5
]
éé5 6
public
èè 
ObjectResultList
èè 
<
èè  

SkillAgent
èè  *
>
èè* +!
GetListSkillByAgent
èè, ?
(
èè? @
ObjectRequest
èè@ M
<
èèM N
SkillAgentFilter
èèN ^
>
èè^ _
objectRequest
èè` m
)
èèm n
{
êê 	
ObjectResultList
ëë 
<
ëë 

SkillAgent
ëë '
>
ëë' (
result
ëë) /
=
ëë0 1
new
ëë2 5
ObjectResultList
ëë6 F
<
ëëF G

SkillAgent
ëëG Q
>
ëëQ R
(
ëëR S
)
ëëS T
;
ëëT U
try
ìì 
{
îî 
result
ïï 
=
ïï #
_IServiceSkillAgentBL
ïï .
.
ïï. /!
GetListSkillByAgent
ïï/ B
(
ïïB C
objectRequest
ïïC P
)
ïïP Q
;
ïïQ R
}
ññ 
catch
óó 
(
óó 
	Exception
óó 
ex
óó 
)
óó  
{
òò 
result
ôô 
.
ôô 
Id
ôô 
=
ôô 
$num
ôô 
;
ôô 
result
öö 
.
öö 
Message
öö 
=
öö  
ex
öö! #
.
öö# $
Message
öö$ +
;
öö+ ,
}
õõ 
return
ùù 
result
ùù 
;
ùù 
}
ûû 	
[
¶¶ 	
HttpPost
¶¶	 
]
¶¶ 
[
ßß 	

ActionName
ßß	 
(
ßß 
$str
ßß )
)
ßß) *
]
ßß* +
[
®® 	
Route
®®	 
(
®® 
$str
®® 4
)
®®4 5
]
®®5 6
public
©© 
ObjectResult
©© 
<
©© 
bool
©©  
>
©©  !!
UpdateSkillLanguage
©©" 5
(
©©5 6
ObjectRequest
©©6 C
<
©©C D 
SkillAgentLanguage
©©D V
>
©©V W
objectRequest
©©X e
)
©©e f
{
™™ 	
ObjectResult
´´ 
<
´´ 
bool
´´ 
>
´´ 
result
´´ %
=
´´& '
new
´´( +
ObjectResult
´´, 8
<
´´8 9
bool
´´9 =
>
´´= >
(
´´> ?
)
´´? @
;
´´@ A
try
≠≠ 
{
ÆÆ #
_IServiceSkillAgentBL
ØØ %
.
ØØ% &!
UpdateSkillLanguage
ØØ& 9
(
ØØ9 :
objectRequest
ØØ: G
)
ØØG H
;
ØØH I
result
±± 
.
±± 
Data
±± 
=
±± 
true
±± "
;
±±" #
}
≤≤ 
catch
≥≥ 
(
≥≥ 
	Exception
≥≥ 
ex
≥≥ 
)
≥≥  
{
¥¥ 
result
µµ 
.
µµ 
Id
µµ 
=
µµ 
$num
µµ 
;
µµ 
result
∂∂ 
.
∂∂ 
Message
∂∂ 
=
∂∂  
ex
∂∂! #
.
∂∂# $
Message
∂∂$ +
;
∂∂+ ,
}
∑∑ 
return
ππ 
result
ππ 
;
ππ 
}
∫∫ 	
[
¬¬ 	
HttpPost
¬¬	 
]
¬¬ 
[
√√ 	

ActionName
√√	 
(
√√ 
$str
√√ '
)
√√' (
]
√√( )
[
ƒƒ 	
Route
ƒƒ	 
(
ƒƒ 
$str
ƒƒ 2
)
ƒƒ2 3
]
ƒƒ3 4
public
≈≈ 
ObjectResult
≈≈ 
<
≈≈ 
bool
≈≈  
>
≈≈  !
UpdateSkillModule
≈≈" 3
(
≈≈3 4
ObjectRequest
≈≈4 A
<
≈≈A B
SkillAgentModule
≈≈B R
>
≈≈R S
objectRequest
≈≈T a
)
≈≈a b
{
∆∆ 	
ObjectResult
«« 
<
«« 
bool
«« 
>
«« 
result
«« %
=
««& '
new
««( +
ObjectResult
««, 8
<
««8 9
bool
««9 =
>
««= >
(
««> ?
)
««? @
;
««@ A
try
…… 
{
   #
_IServiceSkillAgentBL
ÀÀ %
.
ÀÀ% &
UpdateSkillModule
ÀÀ& 7
(
ÀÀ7 8
objectRequest
ÀÀ8 E
)
ÀÀE F
;
ÀÀF G
result
ÕÕ 
.
ÕÕ 
Data
ÕÕ 
=
ÕÕ 
true
ÕÕ "
;
ÕÕ" #
}
ŒŒ 
catch
œœ 
(
œœ 
	Exception
œœ 
ex
œœ 
)
œœ  
{
–– 
result
—— 
.
—— 
Id
—— 
=
—— 
$num
—— 
;
—— 
result
““ 
.
““ 
Message
““ 
=
““  
ex
““! #
.
““# $
Message
““$ +
;
““+ ,
}
”” 
return
’’ 
result
’’ 
;
’’ 
}
÷÷ 	
[
ﬁﬁ 	
HttpPost
ﬁﬁ	 
]
ﬁﬁ 
[
ﬂﬂ 	

ActionName
ﬂﬂ	 
(
ﬂﬂ 
$str
ﬂﬂ 0
)
ﬂﬂ0 1
]
ﬂﬂ1 2
[
‡‡ 	
Route
‡‡	 
(
‡‡ 
$str
‡‡ ;
)
‡‡; <
]
‡‡< =
public
·· 
ObjectResult
·· 
<
·· 
Boolean
·· #
>
··# $(
ValidateSkillByAgentModule
··% ?
(
··? @
ObjectRequest
··@ M
<
··M N
SkillAgentModule
··N ^
>
··^ _
objectRequest
··` m
)
··m n
{
‚‚ 	
ObjectResult
„„ 
<
„„ 
Boolean
„„  
>
„„  !
result
„„" (
=
„„) *
new
„„+ .
ObjectResult
„„/ ;
<
„„; <
Boolean
„„< C
>
„„C D
(
„„D E
)
„„E F
;
„„F G
try
ÂÂ 
{
ÊÊ 
result
ÁÁ 
=
ÁÁ #
_IServiceSkillAgentBL
ÁÁ .
.
ÁÁ. /(
ValidateSkillByAgentModule
ÁÁ/ I
(
ÁÁI J
objectRequest
ÁÁJ W
)
ÁÁW X
;
ÁÁX Y
result
ËË 
.
ËË 
Data
ËË 
=
ËË 
true
ËË "
;
ËË" #
}
ÈÈ 
catch
ÍÍ 
(
ÍÍ 
	Exception
ÍÍ 
ex
ÍÍ 
)
ÍÍ  
{
ÎÎ 
result
ÏÏ 
.
ÏÏ 
Id
ÏÏ 
=
ÏÏ 
-
ÏÏ 
$num
ÏÏ 
;
ÏÏ 
result
ÌÌ 
.
ÌÌ 
Message
ÌÌ 
=
ÌÌ  
ex
ÌÌ! #
.
ÌÌ# $
Message
ÌÌ$ +
;
ÌÌ+ ,
}
ÓÓ 
return
 
result
 
;
 
}
ÒÒ 	
[
˘˘ 	
HttpPost
˘˘	 
]
˘˘ 
[
˙˙ 	

ActionName
˙˙	 
(
˙˙ 
$str
˙˙ 2
)
˙˙2 3
]
˙˙3 4
[
˚˚ 	
Route
˚˚	 
(
˚˚ 
$str
˚˚ =
)
˚˚= >
]
˚˚> ?
public
¸¸ 
ObjectResult
¸¸ 
<
¸¸ 
Boolean
¸¸ #
>
¸¸# $*
ValidateSkillByAgentLanguage
¸¸% A
(
¸¸A B
ObjectRequest
¸¸B O
<
¸¸O P 
SkillAgentLanguage
¸¸P b
>
¸¸b c
objectRequest
¸¸d q
)
¸¸q r
{
˝˝ 	
ObjectResult
˛˛ 
<
˛˛ 
Boolean
˛˛  
>
˛˛  !
result
˛˛" (
=
˛˛) *
new
˛˛+ .
ObjectResult
˛˛/ ;
<
˛˛; <
Boolean
˛˛< C
>
˛˛C D
(
˛˛D E
)
˛˛E F
;
˛˛F G
try
ÄÄ 
{
ÅÅ 
result
ÇÇ 
=
ÇÇ #
_IServiceSkillAgentBL
ÇÇ .
.
ÇÇ. /*
ValidateSkillByAgentLanguage
ÇÇ/ K
(
ÇÇK L
objectRequest
ÇÇL Y
)
ÇÇY Z
;
ÇÇZ [
result
ÉÉ 
.
ÉÉ 
Data
ÉÉ 
=
ÉÉ 
true
ÉÉ "
;
ÉÉ" #
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
ex
ÖÖ 
)
ÖÖ  
{
ÜÜ 
result
áá 
.
áá 
Id
áá 
=
áá 
-
áá 
$num
áá 
;
áá 
result
àà 
.
àà 
Message
àà 
=
àà  
ex
àà! #
.
àà# $
Message
àà$ +
;
àà+ ,
}
ââ 
return
ãã 
result
ãã 
;
ãã 
}
åå 	
}
çç 
}éé ÅD
RD:\repositoriosGit\Chat\Chat\xChatWebApi\Controllers\UserAccountGroupController.cs
	namespace 	
xChatWebApi
 
. 
Controllers !
{ 
public 

class &
UserAccountGroupController +
:+ ,
ApiController- :
{		 
private

 &
IServiceUserAccountGroupBL

 *'
_IServiceUserAccountGroupBL

+ F
;

F G
public &
UserAccountGroupController )
() *&
IServiceUserAccountGroupBL* D&
iserviceUserAccountGroupblE _
)_ `
{ 	'
_IServiceUserAccountGroupBL '
=( )&
iserviceUserAccountGroupbl* D
;D E
} 	
[ 	
HttpPost	 
] 
[ 	

ActionName	 
( 
$str -
)- .
]. /
[ 	
Route	 
( 
$str 9
)9 :
]: ;
public 
ObjectResultList 
<  
UserAccountGroups  1
>1 2#
GetListUserAccountGroup3 J
(J K
ObjectRequestK X
<X Y
UserAccountGroupsY j
>j k
objectRequestl y
)y z
{ 	
ObjectResultList 
< 
UserAccountGroups .
>. /
result0 6
=7 8
new9 <
ObjectResultList= M
<M N
UserAccountGroupsN _
>_ `
(` a
)a b
;b c
try!! 
{"" 
result## 
=## '
_IServiceUserAccountGroupBL## 4
.##4 5#
GetListUserAccountGroup##5 L
(##L M
objectRequest##M Z
)##Z [
;##[ \
}$$ 
catch%% 
(%% 
	Exception%% 
ex%% 
)%%  
{&& 
result'' 
.'' 
Id'' 
='' 
-'' 
$num'' 
;'' 
result(( 
.(( 
Message(( 
=((  
ex((! #
.((# $
Message(($ +
;((+ ,
})) 
return++ 
result++ 
;++ 
},, 	
[33 	
HttpPost33	 
]33 
[44 	

ActionName44	 
(44 
$str44 ,
)44, -
]44- .
[55 	
Route55	 
(55 
$str55 8
)558 9
]559 :
public66 
ObjectResult66 
<66 
Boolean66 #
>66# $"
CreateUserAccountGroup66% ;
(66; <
ObjectRequest66< I
<66I J
UserAccountGroups66J [
>66[ \
objectRequest66] j
)66j k
{77 	
ObjectResult88 
<88 
Boolean88  
>88  !
result88" (
=88) *
new88+ .
ObjectResult88/ ;
<88; <
Boolean88< C
>88C D
(88D E
)88E F
;88F G
try:: 
{;; '
_IServiceUserAccountGroupBL<< +
.<<+ ,"
CreateUserAccountGroup<<, B
(<<B C
objectRequest<<C P
)<<P Q
;<<Q R
result>> 
.>> 
Data>> 
=>> 
true>> "
;>>" #
}?? 
catch@@ 
(@@ 
	Exception@@ 
ex@@ 
)@@  
{AA 
resultBB 
.BB 
IdBB 
=BB 
-BB 
$numBB 
;BB 
resultCC 
.CC 
MessageCC 
=CC  
exCC! #
.CC# $
MessageCC$ +
;CC+ ,
}DD 
returnFF 
resultFF 
;FF 
}GG 	
[NN 	
HttpPostNN	 
]NN 
[OO 	

ActionNameOO	 
(OO 
$strOO ,
)OO, -
]OO- .
[PP 	
RoutePP	 
(PP 
$strPP 8
)PP8 9
]PP9 :
publicQQ 
ObjectResultQQ 
<QQ 
BooleanQQ #
>QQ# $"
UpdateUserAccountGroupQQ% ;
(QQ; <
ObjectRequestQQ< I
<QQI J
UserAccountGroupsQQJ [
>QQ[ \
objectRequestQQ] j
)QQj k
{RR 	
ObjectResultSS 
<SS 
BooleanSS  
>SS  !
resultSS" (
=SS) *
newSS+ .
ObjectResultSS/ ;
<SS; <
BooleanSS< C
>SSC D
(SSD E
)SSE F
;SSF G
tryUU 
{VV '
_IServiceUserAccountGroupBLWW +
.WW+ ,"
UpdateUserAccountGroupWW, B
(WWB C
objectRequestWWC P
)WWP Q
;WWQ R
resultYY 
.YY 
DataYY 
=YY 
trueYY "
;YY" #
}ZZ 
catch[[ 
([[ 
	Exception[[ 
ex[[ 
)[[  
{\\ 
result]] 
.]] 
Id]] 
=]] 
-]] 
$num]] 
;]] 
result^^ 
.^^ 
Message^^ 
=^^  
ex^^! #
.^^# $
Message^^$ +
;^^+ ,
}__ 
returnaa 
resultaa 
;aa 
}bb 	
[ii 	
HttpPostii	 
]ii 
[jj 	

ActionNamejj	 
(jj 
$strjj ,
)jj, -
]jj- .
[kk 	
Routekk	 
(kk 
$strkk 8
)kk8 9
]kk9 :
publicll 
ObjectResultll 
<ll 
Booleanll #
>ll# $"
DeleteUserAccountGroupll% ;
(ll; <
ObjectRequestll< I
<llI J
UserAccountGroupsllJ [
>ll[ \
objectRequestll] j
)llj k
{mm 	
ObjectResultnn 
<nn 
Booleannn  
>nn  !
resultnn" (
=nn) *
newnn+ .
ObjectResultnn/ ;
<nn; <
Booleannn< C
>nnC D
(nnD E
)nnE F
;nnF G
trypp 
{qq '
_IServiceUserAccountGroupBLrr +
.rr+ ,"
DeleteUserAccountGrouprr, B
(rrB C
objectRequestrrC P
)rrP Q
;rrQ R
resulttt 
.tt 
Datatt 
=tt 
truett "
;tt" #
}uu 
catchvv 
(vv 
	Exceptionvv 
exvv 
)vv  
{ww 
resultxx 
.xx 
Idxx 
=xx 
-xx 
$numxx 
;xx 
resultyy 
.yy 
Messageyy 
=yy  
exyy! #
.yy# $
Messageyy$ +
;yy+ ,
}zz 
return|| 
result|| 
;|| 
}}} 	
[
ÑÑ 	
HttpPost
ÑÑ	 
]
ÑÑ 
[
ÖÖ 	

ActionName
ÖÖ	 
(
ÖÖ 
$str
ÖÖ .
)
ÖÖ. /
]
ÖÖ/ 0
[
ÜÜ 	
Route
ÜÜ	 
(
ÜÜ 
$str
ÜÜ :
)
ÜÜ: ;
]
ÜÜ; <
public
áá 
ObjectResult
áá 
<
áá 
Boolean
áá #
>
áá# $&
ValidateUserAccountGroup
áá% =
(
áá= >
ObjectRequest
áá> K
<
ááK L
UserAccountGroups
ááL ]
>
áá] ^
objectRequest
áá_ l
)
áál m
{
àà 	
ObjectResult
ââ 
<
ââ 
Boolean
ââ  
>
ââ  !
result
ââ" (
=
ââ) *
new
ââ+ .
ObjectResult
ââ/ ;
<
ââ; <
Boolean
ââ< C
>
ââC D
(
ââD E
)
ââE F
;
ââF G
try
ãã 
{
åå 
result
çç 
=
çç )
_IServiceUserAccountGroupBL
çç 4
.
çç4 5&
ValidateUserAccountGroup
çç5 M
(
ççM N
objectRequest
ççN [
)
çç[ \
;
çç\ ]
result
éé 
.
éé 
Data
éé 
=
éé 
true
éé "
;
éé" #
}
èè 
catch
êê 
(
êê 
	Exception
êê 
ex
êê 
)
êê  
{
ëë 
result
íí 
.
íí 
Id
íí 
=
íí 
-
íí 
$num
íí 
;
íí 
result
ìì 
.
ìì 
Message
ìì 
=
ìì  
ex
ìì! #
.
ìì# $
Message
ìì$ +
;
ìì+ ,
}
îî 
return
ññ 
result
ññ 
;
ññ 
}
óó 	
}
ôô 
}öö ûB
ID:\repositoriosGit\Chat\Chat\xChatWebApi\Controllers\UserRolController.cs
	namespace 	
xChatWebApi
 
. 
Controllers !
{ 
public 

class 
UserRolController "
:# $
ApiController% 2
{ 
private 
IServiceUserBL 
_IServiceUserBL .
;. /
public 
UserRolController  
(  !
IServiceUserBL! /
iserviceUserbl0 >
)> ?
{ 	
_IServiceUserBL 
= 
iserviceUserbl ,
;, -
} 	
[ 	
HttpPost	 
] 
[ 	

ActionName	 
( 
$str *
)* +
]+ ,
[ 	
Route	 
( 
$str 2
)2 3
]3 4
public   
ObjectResultList   
<    
UserRoleType    ,
>  , - 
GetListUsersRoleType  . B
(  B C
ObjectRequest  C P
<  P Q
UserRoleType  Q ]
>  ] ^
objectRequest  _ l
)  l m
{!! 	
ObjectResultList"" 
<"" 
UserRoleType"" )
>"") *
result""+ 1
=""2 3
new""4 7
ObjectResultList""8 H
<""H I
UserRoleType""I U
>""U V
(""V W
)""W X
;""X Y
try$$ 
{%% 
result&& 
=&& 
_IServiceUserBL&& (
.&&( ) 
GetListUsersRoleType&&) =
(&&= >
objectRequest&&> K
)&&K L
;&&L M
}'' 
catch(( 
((( 
	Exception(( 
ex(( 
)((  
{)) 
result** 
.** 
Id** 
=** 
-** 
$num** 
;** 
result++ 
.++ 
Message++ 
=++  
ex++! #
.++# $
Message++$ +
;+++ ,
},, 
return.. 
result.. 
;.. 
}// 	
[66 	
HttpPost66	 
]66 
[77 	

ActionName77	 
(77 
$str77 )
)77) *
]77* +
[88 	
Route88	 
(88 
$str88 1
)881 2
]882 3
public99 
ObjectResult99 
<99 
Boolean99 #
>99# $
CreateUsersRoleType99% 8
(998 9
ObjectRequest999 F
<99F G
UserRoleType99G S
>99S T
objectRequest99U b
)99b c
{:: 	
ObjectResult;; 
<;; 
Boolean;;  
>;;  !
result;;" (
=;;) *
new;;+ .
ObjectResult;;/ ;
<;;; <
Boolean;;< C
>;;C D
(;;D E
);;E F
;;;F G
try== 
{>> 
_IServiceUserBL?? 
.??  
CreateUsersRoleType??  3
(??3 4
objectRequest??4 A
)??A B
;??B C
resultAA 
.AA 
DataAA 
=AA 
trueAA "
;AA" #
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
resultEE 
.EE 
IdEE 
=EE 
-EE 
$numEE 
;EE 
resultFF 
.FF 
MessageFF 
=FF  
exFF! #
.FF# $
MessageFF$ +
;FF+ ,
}GG 
returnII 
resultII 
;II 
}JJ 	
[QQ 	
HttpPostQQ	 
]QQ 
[RR 	

ActionNameRR	 
(RR 
$strRR )
)RR) *
]RR* +
[SS 	
RouteSS	 
(SS 
$strSS 1
)SS1 2
]SS2 3
publicTT 
ObjectResultTT 
<TT 
BooleanTT #
>TT# $
UpdateUsersRoleTypeTT% 8
(TT8 9
ObjectRequestTT9 F
<TTF G
UserRoleTypeTTG S
>TTS T
objectRequestTTU b
)TTb c
{UU 	
ObjectResultVV 
<VV 
BooleanVV  
>VV  !
resultVV" (
=VV) *
newVV+ .
ObjectResultVV/ ;
<VV; <
BooleanVV< C
>VVC D
(VVD E
)VVE F
;VVF G
tryXX 
{YY 
_IServiceUserBLZZ 
.ZZ  
UpdateUsersRoleTypeZZ  3
(ZZ3 4
objectRequestZZ4 A
)ZZA B
;ZZB C
result\\ 
.\\ 
Data\\ 
=\\ 
true\\ "
;\\" #
}]] 
catch^^ 
(^^ 
	Exception^^ 
ex^^ 
)^^  
{__ 
result`` 
.`` 
Id`` 
=`` 
-`` 
$num`` 
;`` 
resultaa 
.aa 
Messageaa 
=aa  
exaa! #
.aa# $
Messageaa$ +
;aa+ ,
}bb 
returndd 
resultdd 
;dd 
}ee 	
[ll 	
HttpPostll	 
]ll 
[mm 	

ActionNamemm	 
(mm 
$strmm )
)mm) *
]mm* +
[nn 	
Routenn	 
(nn 
$strnn 1
)nn1 2
]nn2 3
publicoo 
ObjectResultoo 
<oo 
Booleanoo #
>oo# $
DeleteUsersRoleTypeoo% 8
(oo8 9
ObjectRequestoo9 F
<ooF G
UserRoleTypeooG S
>ooS T
objectRequestooU b
)oob c
{pp 	
ObjectResultqq 
<qq 
Booleanqq  
>qq  !
resultqq" (
=qq) *
newqq+ .
ObjectResultqq/ ;
<qq; <
Booleanqq< C
>qqC D
(qqD E
)qqE F
;qqF G
tryss 
{tt 
_IServiceUserBLuu 
.uu  
DeleteUsersRoleTypeuu  3
(uu3 4
objectRequestuu4 A
)uuA B
;uuB C
resultww 
.ww 
Dataww 
=ww 
trueww "
;ww" #
}xx 
catchyy 
(yy 
	Exceptionyy 
exyy 
)yy  
{zz 
result{{ 
.{{ 
Id{{ 
={{ 
-{{ 
$num{{ 
;{{ 
result|| 
.|| 
Message|| 
=||  
ex||! #
.||# $
Message||$ +
;||+ ,
}}} 
return 
result 
; 
}
ÄÄ 	
[
áá 	
HttpPost
áá	 
]
áá 
[
àà 	

ActionName
àà	 
(
àà 
$str
àà +
)
àà+ ,
]
àà, -
[
ââ 	
Route
ââ	 
(
ââ 
$str
ââ 3
)
ââ3 4
]
ââ4 5
public
ää 
ObjectResult
ää 
<
ää 
Boolean
ää #
>
ää# $#
ValidateUsersRoleType
ää% :
(
ää: ;
ObjectRequest
ää; H
<
ääH I
UserRoleType
ääI U
>
ääU V
objectRequest
ääW d
)
ääd e
{
ãã 	
ObjectResult
åå 
<
åå 
Boolean
åå  
>
åå  !
result
åå" (
=
åå) *
new
åå+ .
ObjectResult
åå/ ;
<
åå; <
Boolean
åå< C
>
ååC D
(
ååD E
)
ååE F
;
ååF G
try
éé 
{
èè 
result
êê 
=
êê 
_IServiceUserBL
êê (
.
êê( )#
ValidateUsersRoleType
êê) >
(
êê> ?
objectRequest
êê? L
)
êêL M
;
êêM N
result
ëë 
.
ëë 
Data
ëë 
=
ëë 
true
ëë "
;
ëë" #
}
íí 
catch
ìì 
(
ìì 
	Exception
ìì 
ex
ìì 
)
ìì  
{
îî 
result
ïï 
.
ïï 
Id
ïï 
=
ïï 
-
ïï 
$num
ïï 
;
ïï 
result
ññ 
.
ññ 
Message
ññ 
=
ññ  
ex
ññ! #
.
ññ# $
Message
ññ$ +
;
ññ+ ,
}
óó 
return
ôô 
result
ôô 
;
ôô 
}
öö 	
}
úú 
}üü ™&
7D:\repositoriosGit\Chat\Chat\xChatWebApi\Global.asax.cs
	namespace 	
xChatWebApi
 
{		 
public 

class 
WebApiApplication "
:# $
System% +
.+ ,
Web, /
./ 0
HttpApplication0 ?
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
var 
	container 
= 
new 
	Container  )
() *
)* +
;+ ,
	container 
. 
Options 
. "
DefaultScopedLifestyle 4
=5 6
new7 : 
AsyncScopedLifestyle; O
(O P
)P Q
;Q R
	container 
. 
Register 
<  
IServiceSkillAgentBL 3
,3 4
ServiceSkillAgentBL5 H
>H I
(I J
	LifestyleJ S
.S T
	SingletonT ]
)] ^
;^ _
	container 
. 
Register 
< !
IServiceSkillAgentDAO 4
,4 5 
ServiceSkillAgentDAO6 J
>J K
(K L
	LifestyleL U
.U V
	SingletonV _
)_ `
;` a
	container 
. 
Register 
< !
IServiceChatManagerBL 4
,4 5 
ServiceChatManagerBL6 J
>J K
(K L
	LifestyleL U
.U V
	SingletonV _
)_ `
;` a
	container 
. 
Register 
< "
IServiceChatManagerDAO 5
,5 6!
ServiceChatManagerDAO7 L
>L M
(M N
	LifestyleN W
.W X
	SingletonX a
)a b
;b c
	container 
. 
Register 
< "
IServiceMasterEntityBL 5
,5 6!
ServiceMasterEntityBL7 L
>L M
(M N
	LifestyleN W
.W X
ScopedX ^
)^ _
;_ `
	container   
.   
Register   
<   #
IServiceMasterEntityDAO   6
,  6 7"
ServiceMasterEntityDAO  8 N
>  N O
(  O P
	Lifestyle  P Y
.  Y Z
Scoped  Z `
)  ` a
;  a b
	container!! 
.!! 
Register!! 
<!! 
IServiceFaqBL!! ,
,!!, -
ServiceFaqBL!!. :
>!!: ;
(!!; <
	Lifestyle!!< E
.!!E F
Scoped!!F L
)!!L M
;!!M N
	container"" 
."" 
Register"" 
<"" 
IServiceFaqDAO"" -
,""- .
ServiceFaqDAO""/ <
>""< =
(""= >
	Lifestyle""> G
.""G H
Scoped""H N
)""N O
;""O P
	container$$ 
.$$ 
Register$$ 
<$$ 
IServiceUserBL$$ -
,$$- .
ServiceUserBL$$/ <
>$$< =
($$= >
	Lifestyle$$> G
.$$G H
	Singleton$$H Q
)$$Q R
;$$R S
	container%% 
.%% 
Register%% 
<%% 
IServiceUserDAO%% .
,%%. /
ServiceUserDAO%%0 >
>%%> ?
(%%? @
	Lifestyle%%@ I
.%%I J
	Singleton%%J S
)%%S T
;%%T U
	container'' 
.'' 
Register'' 
<'' &
IServiceUserAccountGroupBL'' 9
,''9 :%
ServiceUserAccountGroupBL''; T
>''T U
(''U V
	Lifestyle''V _
.''_ `
	Singleton''` i
)''i j
;''j k
	container(( 
.(( 
Register(( 
<(( '
IServiceUserAccountGroupDAO(( :
,((: ;&
ServiceUserAccountGroupDAO((< V
>((V W
(((W X
	Lifestyle((X a
.((a b
	Singleton((b k
)((k l
;((l m
	container++ 
.++ %
RegisterWebApiControllers++ /
(++/ 0
GlobalConfiguration++0 C
.++C D
Configuration++D Q
)++Q R
;++R S
	container-- 
.-- 
Verify-- 
(-- 
)-- 
;-- 
GlobalConfiguration// 
.//  
Configuration//  -
.//- .
DependencyResolver//. @
=//A B
new00 2
&SimpleInjectorWebApiDependencyResolver00 :
(00: ;
	container00; D
)00D E
;00E F
GlobalConfiguration22 
.22  
	Configure22  )
(22) *
WebApiConfig22* 6
.226 7
Register227 ?
)22? @
;22@ A
}33 	
}44 
}55 Ó
CD:\repositoriosGit\Chat\Chat\xChatWebApi\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str &
)& '
]' (
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str (
)( )
]) *
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *